# Parameters

PRODUCER = producer
CONSUMER = consumer

SOURCES_PRODUCER.c = producer.c
SOURCES_CONSUMER.c = consumer.c

OBJECTS_PRODUCER = $(SOURCES_PRODUCER.c:%.c=%.o) 
OBJECTS_CONSUMER = $(SOURCES_CONSUMER.c:%.c=%.o) 


# Compiler flags
CFLAGS += -g
LDLIBS += -lrt

# Targets

all : $(PRODUCER) $(CONSUMER)

$(OBJECTS_PRODUCER) : $(SOURCES_PRODUCER.c)

$(OBJECTS_CONSUMER) : $(SOURCES_CONSUMER.c) 

$(PRODUCER) : $(OBJECTS_PRODUCER)
	$(LINK.c) -o $(PRODUCER) $(OBJECTS_PRODUCER) $(LDLIBS)

$(CONSUMER) : $(OBJECTS_CONSUMER)
	$(LINK.c) -o $(CONSUMER) $(OBJECTS_CONSUMER) $(LDLIBS)

clean:
	$(RM) core $(OBJECTS_PRODUCER) $(OBJECTS_CONSUMER) $(PRODUCER) $(CONSUMER)
	$(RM) *~
